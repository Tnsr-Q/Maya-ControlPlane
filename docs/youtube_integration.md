# YouTube Integration Documentation\n\n## Overview\n\nThe YouTube Integration (Phase 4) provides comprehensive YouTube Data API v3 integration for Maya-ControlPlane, enabling autonomous YouTube channel management with AI-powered content strategy, intelligent comment management, and advanced analytics.\n\n## Features\n\n### Core Capabilities\n- **Video Management**: Upload, update, schedule, and manage video content\n- **Comment Management**: Intelligent comment analysis, moderation, and AI-powered replies\n- **Channel Analytics**: Comprehensive performance tracking and insights\n- **Content Strategy**: AI-generated video ideas, trending topic analysis, and content calendar\n- **Playlist Management**: Automated playlist creation and organization\n- **Content Moderation**: Spam detection, sentiment analysis, and safety protocols\n\n### AI-Powered Features\n- **Content Idea Generation**: Cerebras-powered video concept development\n- **Title & Description Optimization**: AI-enhanced metadata for better discoverability\n- **Comment Reply Generation**: Context-aware, personality-consistent responses\n- **Trend Analysis**: Real-time trending topic identification and analysis\n- **Audience Insights**: AI-driven audience behavior and preference analysis\n\n## Setup and Configuration\n\n### Prerequisites\n1. Google Cloud Project with YouTube Data API v3 enabled\n2. OAuth 2.0 credentials configured\n3. Cerebras API access (optional, for AI features)\n\n### Installation\n```bash\npip install google-api-python-client google-auth-oauthlib google-auth-httplib2\n```\n\n### Configuration Files\n\n#### YouTube API Credentials\nCreate `config/youtube_credentials.json` with your OAuth 2.0 client credentials:\n```json\n{\n  \"installed\": {\n    \"client_id\": \"your-client-id\",\n    \"client_secret\": \"your-client-secret\",\n    \"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\",\n    \"token_uri\": \"https://oauth2.googleapis.com/token\",\n    \"redirect_uris\": [\"urn:ietf:wg:oauth:2.0:oob\", \"http://localhost\"]\n  }\n}\n```\n\n#### YouTube Configuration\nCreate `config/youtube.yaml`:\n```yaml\nyoutube:\n  credentials_file: \"config/youtube_credentials.json\"\n  token_file: \"config/youtube_token.json\"\n  daily_quota: 10000\n  \n  # Content settings\n  default_privacy: \"private\"  # private, unlisted, public\n  default_category: \"22\"      # People & Blogs\n  \n  # Moderation settings\n  moderation:\n    enabled: true\n    spam_threshold: 0.7\n    auto_moderate: false\n  \n  # Auto-reply settings\n  auto_reply:\n    enabled: true\n    reply_threshold: 0.8\n    max_replies_per_hour: 50\n  \n  # AI features\n  cerebras:\n    enabled: true\n    content_generation: true\n    comment_analysis: true\n```\n\n## API Usage\n\n### Basic Usage\n\n```python\nfrom src.adapters.youtube_adapter_v2 import YouTubeAdapterV2, YouTubeVideo\n\n# Initialize adapter\nconfig = load_config('config/youtube.yaml')\nadapter = YouTubeAdapterV2(config['youtube'])\n\n# Upload a video\nvideo = YouTubeVideo(\n    title=\"My Amazing Video\",\n    description=\"This is a great video about...\",\n    tags=[\"tutorial\", \"education\", \"tech\"],\n    privacy_status=\"public\",\n    file_path=\"/path/to/video.mp4\"\n)\n\nresult = await adapter.upload_video(video)\nprint(f\"Video uploaded: {result['video_id']}\")\n```\n\n### Advanced Features\n\n#### Content Strategy Generation\n```python\n# Generate AI-powered content strategy\nstrategy = await adapter.generate_content_strategy(\n    channel_focus=\"technology tutorials\",\n    target_audience=\"developers\",\n    content_goals=[\"education\", \"engagement\"]\n)\n\nprint(f\"Generated {len(strategy.video_ideas)} video ideas\")\nfor idea in strategy.video_ideas[:3]:\n    print(f\"- {idea['title']}: {idea['description']}\")\n```\n\n#### Comment Management\n```python\n# Get and analyze comments\ncomments = await adapter.get_video_comments(\"VIDEO_ID\")\nfor comment in comments:\n    if comment.sentiment_score < -0.5:\n        # Generate appropriate response for negative comment\n        reply = await adapter.generate_comment_reply(comment)\n        await adapter.reply_to_comment(comment.comment_id, reply)\n```\n\n#### Analytics and Insights\n```python\n# Get comprehensive analytics\nanalytics = await adapter.get_channel_analytics(\n    start_date=datetime.now() - timedelta(days=30),\n    end_date=datetime.now()\n)\n\nprint(f\"Total views: {analytics.total_views}\")\nprint(f\"Subscriber growth: {analytics.subscriber_growth}\")\nprint(f\"Top performing video: {analytics.top_video['title']}\")\n```\n\n## Rate Limiting and Quota Management\n\nThe YouTube API has strict quota limits:\n- **Daily Quota**: 10,000 units (default)\n- **Video Upload**: 1,600 units per upload\n- **Search**: 100 units per request\n- **Comments**: 1-50 units depending on operation\n\n### Best Practices\n1. **Monitor Quota Usage**: Track daily consumption\n2. **Optimize Requests**: Use partial responses and caching\n3. **Batch Operations**: Group related requests when possible\n4. **Handle Errors**: Implement proper retry logic with exponential backoff\n\n### Quota Increase\nFor higher quotas, complete YouTube's compliance audit:\n1. Submit audit form demonstrating API compliance\n2. Provide detailed use case documentation\n3. Show adherence to YouTube's Terms of Service\n\n## Safety and Moderation\n\n### Content Safety\n- **Automated Moderation**: AI-powered content analysis\n- **Policy Compliance**: YouTube Community Guidelines adherence\n- **Brand Safety**: Reputation management and monitoring\n\n### Comment Moderation\n- **Spam Detection**: ML-based spam identification\n- **Sentiment Analysis**: Emotional tone assessment\n- **Auto-Moderation**: Configurable automatic actions\n\n### Human Oversight\n- **Review Queues**: Flagged content for human review\n- **Approval Workflows**: Multi-stage content approval\n- **Override Controls**: Manual intervention capabilities\n\n## Error Handling\n\n### Common Errors and Solutions\n\n#### Quota Exceeded (403)\n```python\ntry:\n    result = await adapter.upload_video(video)\nexcept QuotaExceededError:\n    # Wait until quota resets or implement backoff\n    await asyncio.sleep(3600)  # Wait 1 hour\n    result = await adapter.upload_video(video)\n```\n\n#### Authentication Errors (401)\n```python\ntry:\n    result = await adapter.get_channel_info()\nexcept AuthenticationError:\n    # Re-authenticate\n    await adapter.refresh_credentials()\n    result = await adapter.get_channel_info()\n```\n\n#### Rate Limiting (429)\n```python\ntry:\n    comments = await adapter.get_video_comments(video_id)\nexcept RateLimitError as e:\n    # Wait for rate limit reset\n    await asyncio.sleep(e.retry_after)\n    comments = await adapter.get_video_comments(video_id)\n```\n\n## Integration with Maya Orchestrator\n\n### Campaign Management\n```python\n# Create YouTube campaign\ncampaign = {\n    \"platform\": \"youtube\",\n    \"objective\": \"channel_growth\",\n    \"content_strategy\": {\n        \"video_frequency\": \"weekly\",\n        \"content_themes\": [\"tutorials\", \"reviews\"],\n        \"target_metrics\": {\"subscribers\": 1000, \"views\": 50000}\n    }\n}\n\nresult = await orchestrator.create_campaign(campaign)\n```\n\n### Cross-Platform Coordination\n```python\n# Coordinate YouTube and Twitter content\nawait orchestrator.coordinate_content({\n    \"youtube\": {\"video_id\": \"VIDEO_ID\"},\n    \"twitter\": {\"promote_video\": True, \"hashtags\": [\"#NewVideo\"]}\n})\n```\n\n## Monitoring and Analytics\n\n### Key Metrics\n- **Channel Performance**: Views, subscribers, watch time\n- **Video Performance**: CTR, retention, engagement\n- **Community Metrics**: Comments, likes, shares\n- **Revenue Metrics**: Ad revenue, channel memberships\n\n### Reporting\n- **Daily Reports**: Automated performance summaries\n- **Weekly Analysis**: Trend analysis and insights\n- **Monthly Strategy**: Content strategy optimization\n\n## Troubleshooting\n\n### Common Issues\n\n1. **Authentication Failures**\n   - Verify credentials file exists and is valid\n   - Check OAuth 2.0 configuration\n   - Ensure proper scopes are requested\n\n2. **Quota Issues**\n   - Monitor daily usage in Google Cloud Console\n   - Implement efficient request patterns\n   - Consider quota increase if needed\n\n3. **Upload Failures**\n   - Check video file format and size limits\n   - Verify metadata compliance\n   - Ensure stable internet connection\n\n4. **API Errors**\n   - Implement proper error handling\n   - Use exponential backoff for retries\n   - Log errors for debugging\n\n### Support Resources\n- [YouTube Data API Documentation](https://developers.google.com/youtube/v3)\n- [Google API Client Libraries](https://developers.google.com/api-client-library)\n- [YouTube Creator Academy](https://creatoracademy.youtube.com)\n\n## TODO: Implementation Status\n\n### âœ… Completed\n- Basic adapter structure\n- Rate limiting framework\n- Authentication setup\n- Configuration management\n\n### ðŸš§ In Progress\n- Video upload implementation\n- Comment management system\n- Analytics collection\n- AI content generation\n\n### ðŸ“‹ Planned\n- Advanced content strategy\n- Playlist automation\n- Live streaming support\n- Advanced analytics dashboard